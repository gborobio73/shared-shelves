<div nav-menu></div>
<img ng-show= "loading" src="../img/ajax-loader-big.gif" style="float: center;"/>
<div class="container-fluid">
	<div class="panel panel-default">
	  <div class="panel-body" ng-hide = "loading" >
			<form class="form-horizontal" role="form">		  	 
			  	<div book-info></div>		
			  	<div class="form-group">				  	
				  	<div ng-show = "book.ownedByCurrentUser" >
					  	<div class="col-sm-offset-2 col-sm-10">
							<button ng-hide = "startedSaving" type="button" class="btn btn-primary btn-md" ng-click="saveBook(book)"  style="float: left;">Save changes</button>
							<img ng-show = "savingInProcess" src="../img/ajax-loader-small.gif" style="float: left;"/>
							<h5><span ng-show = "saved" class="label label-success" style="float: left; font-size: 100%">Changes saved!</span></h5>							
							
							<button ng-hide = "startedRemoving" type="button" class="btn btn-danger btn-xs" ng-click="removeBook(book.id)" style="float: right;">Remove from bookshelf</button>
							<img ng-show = "removingInProcess" src="../img/ajax-loader-small.gif" style="float: left;"/>							
							<h6><span class="label label-success" ng-show = "removed" style="float: right; font-size: 100%">Removed from bookshelf!</span></h6>							
						</div>												  	
				  	</div>
				  	<div ng-hide = "book.ownedByCurrentUser" >
				  		<hr>
			  		    <label for="inputCategories" class="col-sm-2 control-label">Interested?</label>
					    <div class="col-sm-10">
							<button ng-hide = "startedSending" type="button" class="btn btn-primary btn-md" ng-click="sendMessageToOwner(book.id)"  style="float: left;">Let the owner know!</button>
							<img ng-show = "sendingInProcess" src="../img/ajax-loader-small.gif" style="float: left;"/>
							<h5><span ng-show = "sent" class="label label-success" style="float: left; font-size: 100%">An email has been sent to the book's owner.</span></h5>
							<br>
							<h6><span ng-show = "sent" class="label label-info" style="float: left; font-size: 100%">Please check your inbox for a copy of the email.</span></h6>
							<div ng-show = "sendFailed" >
								<h5><span class="label label-danger" style="float: left; font-size: 100%">Wops, could not send the message!</span></h5>
								<h5><span class="label label-info" style="float: left; font-size: 100%">Hmm, could you try again later please?</span></h5>
							</div>						      
					    </div>						
				  	</div>
				</div>  
		  	</form>	
		</div>
	</div>
</div>